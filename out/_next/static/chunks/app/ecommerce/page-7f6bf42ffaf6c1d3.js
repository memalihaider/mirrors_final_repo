(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1129],{4229:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(19946).A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},5414:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>b});var s=a(95155),l=a(12115),r=a(38274),i=a(60760),n=a(19946);let c=(0,n.A)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),o=(0,n.A)("warehouse",[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]]);var d=a(33109),u=a(84616);let p=(0,n.A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var h=a(62525),m=a(54416),g=a(4229),x=a(35317),f=a(77505),y=a(56104),v=a(931);function b(){let[e,t]=(0,l.useState)("products"),[a,n]=(0,l.useState)([]),[b,j]=(0,l.useState)(!0),[k,N]=(0,l.useState)(!1),[w,A]=(0,l.useState)(null),[M,C]=(0,l.useState)({name:"",category:"",price:"",stock:"",status:"active",image:"",imageFile:null}),[P,E]=(0,l.useState)(!1);(0,l.useEffect)(()=>{if(!y.db)return;j(!0);let e=(0,x.rJ)(y.db,"products"),t=(0,x.P)(e,(0,x.My)("createdAt","asc")),a=(0,x.aQ)(t,e=>{n(e.docs.map(e=>({id:e.id,...e.data()}))),j(!1)});return()=>a()},[]);let S=()=>{N(!1),A(null),C({name:"",category:"",price:"",stock:"",status:"active",image:"",imageFile:null}),E(!1)},I=async e=>{if(null==e||e.preventDefault(),!M.name.trim()||!M.category.trim())return void alert("Please fill all required fields.");if(!M.price||isNaN(Number(M.price)))return void alert("Please enter valid price.");if(!M.stock||isNaN(Number(M.stock)))return void alert("Please enter valid stock.");E(!0);try{let e=M.image||"";if(M.imageFile)try{let t=(0,f.KR)(y.IG,"products/".concat(Date.now(),"-").concat(M.imageFile.name));await (0,f.D)(t,M.imageFile),e=await (0,f.qk)(t),console.log("✅ Image uploaded:",e)}catch(e){console.error("❌ Image upload failed:",e),alert("Image upload failed. Check Firebase Storage rules."),E(!1);return}w?await (0,x.mZ)((0,x.H9)(y.db,"products",w),{name:M.name.trim(),category:M.category.trim(),price:Number(M.price),stock:Number(M.stock),status:M.status,image:e,updatedAt:(0,x.O5)()}):await (0,x.gS)((0,x.rJ)(y.db,"products"),{name:M.name.trim(),category:M.category.trim(),price:Number(M.price),stock:Number(M.stock),status:M.status,image:e,sold:0,createdAt:(0,x.O5)()}),S()}catch(e){console.error("Error saving product:",e),alert("Error saving product."),E(!1)}},R=async e=>{if(e&&confirm("Are you sure you want to delete this product?"))try{await (0,x.kd)((0,x.H9)(y.db,"products",e))}catch(e){console.error(e)}},F=e=>0===e?{label:"Out of Stock",color:"text-red-600 bg-red-50"}:e<15?{label:"Low Stock",color:"text-yellow-600 bg-yellow-50"}:{label:"In Stock",color:"text-green-600 bg-green-50"},H=a.reduce((e,t)=>e+(t.sold||0)*t.price,0),V=[{id:"products",label:"Products",icon:c,color:"bg-blue-500"},{id:"inventory",label:"Inventory",icon:o,color:"bg-green-500"},{id:"sales",label:"Sales",icon:d.A,color:"bg-purple-500"}];return(0,s.jsx)(v.A,{children:(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50 p-6",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"E-Commerce Dashboard"}),(0,s.jsx)("div",{className:"flex gap-2 mb-6",children:V.map(a=>(0,s.jsxs)("button",{onClick:()=>t(a.id),className:"px-4 py-2 rounded ".concat(e===a.id?"bg-gray-900 text-white":"bg-white text-gray-900 border"),children:[(0,s.jsx)(a.icon,{className:"inline-block w-4 h-4 mr-1"})," ",a.label]},a.id))}),(0,s.jsx)(i.N,{mode:"wait",children:(0,s.jsxs)(r.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:["products"===e&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold",children:"Products"}),(0,s.jsxs)("button",{onClick:()=>{C({name:"",category:"",price:"",stock:"",status:"active",image:"",imageFile:null}),A(null),N(!0)},className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg",children:[(0,s.jsx)(u.A,{})," Add Product"]})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(e=>{let t=F(e.stock);return(0,s.jsxs)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl border p-6",children:[(0,s.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,s.jsx)("div",{className:"font-semibold text-lg",children:e.name}),(0,s.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(t.color),children:t.label})]}),(0,s.jsxs)("div",{children:["AED",e.price]}),(0,s.jsxs)("div",{children:[e.stock," in stock"]}),e.image&&(0,s.jsx)("img",{src:e.image,alt:e.name,className:"mt-2 w-full h-32 object-cover rounded"}),(0,s.jsxs)("div",{className:"flex gap-2 mt-4",children:[(0,s.jsxs)("button",{onClick:()=>{var t,a;C({name:e.name||"",category:e.category||"",price:(null==(t=e.price)?void 0:t.toString())||"",stock:(null==(a=e.stock)?void 0:a.toString())||"",status:e.status||"active",image:e.image||"",imageFile:null}),A(e.id||null),N(!0)},className:"bg-yellow-500 px-3 py-1 rounded text-white flex items-center gap-1",children:[(0,s.jsx)(p,{})," Edit"]}),(0,s.jsxs)("button",{onClick:()=>R(e.id),className:"bg-red-600 px-3 py-1 rounded text-white flex items-center gap-1",children:[(0,s.jsx)(h.A,{})," Delete"]})]})]},e.id)})})]}),"inventory"===e&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold",children:"Inventory"}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:a.map(e=>{let t=F(e.stock);return(0,s.jsxs)("div",{className:"bg-white p-4 rounded-lg border",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:e.name}),(0,s.jsx)("span",{className:t.color,children:t.label})]}),(0,s.jsxs)("div",{children:[e.stock," in stock"]})]},e.id)})})]}),"sales"===e&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold",children:"Sales"}),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg border",children:["Total Revenue: AED",H]})]})]},e)}),(0,s.jsx)(i.N,{children:k&&(0,s.jsx)(r.P.div,{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,s.jsxs)(r.P.div,{className:"bg-white p-6 rounded-lg w-96",initial:{scale:.9},animate:{scale:1},exit:{scale:.9},children:[(0,s.jsx)("h2",{className:"text-lg font-bold mb-4",children:w?"Edit Product":"Add Product"}),(0,s.jsxs)("form",{onSubmit:I,className:"space-y-3",children:[(0,s.jsx)("input",{type:"text",placeholder:"Name",value:M.name,onChange:e=>C({...M,name:e.target.value}),className:"w-full border p-2"}),(0,s.jsx)("input",{type:"text",placeholder:"Category",value:M.category,onChange:e=>C({...M,category:e.target.value}),className:"w-full border p-2"}),(0,s.jsx)("input",{type:"number",placeholder:"Price",value:M.price,onChange:e=>C({...M,price:e.target.value}),className:"w-full border p-2"}),(0,s.jsx)("input",{type:"number",placeholder:"Stock",value:M.stock,onChange:e=>C({...M,stock:e.target.value}),className:"w-full border p-2"}),(0,s.jsxs)("select",{value:M.status,onChange:e=>C({...M,status:e.target.value}),className:"w-full border p-2",children:[(0,s.jsx)("option",{value:"active",children:"Active"}),(0,s.jsx)("option",{value:"inactive",children:"Inactive"})]}),(0,s.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var t;let a=null==(t=e.target.files)?void 0:t[0];a&&C({...M,imageFile:a})},className:"w-full border p-2"}),(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,s.jsx)("button",{type:"button",onClick:S,className:"px-3 py-1 bg-gray-300 rounded",children:(0,s.jsx)(m.A,{})}),(0,s.jsx)("button",{type:"submit",disabled:P,className:"px-3 py-1 bg-blue-600 text-white rounded",children:(0,s.jsx)(g.A,{})})]})]})]})})})]})})}},11123:(e,t,a)=>{Promise.resolve().then(a.bind(a,5414))},33109:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(19946).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},54416:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(19946).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},60760:(e,t,a)=>{"use strict";a.d(t,{N:()=>y});var s=a(95155),l=a(12115),r=a(90869),i=a(82885),n=a(97494),c=a(80845),o=a(27351),d=a(51508);class u extends l.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,a=(0,o.s)(e)&&e.offsetWidth||0,s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft,s.right=a-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function p(e){let{children:t,isPresent:a,anchorX:r,root:i}=e,n=(0,l.useId)(),c=(0,l.useRef)(null),o=(0,l.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:p}=(0,l.useContext)(d.Q);return(0,l.useInsertionEffect)(()=>{let{width:e,height:t,top:s,left:l,right:d}=o.current;if(a||!c.current||!e||!t)return;c.current.dataset.motionPopId=n;let u=document.createElement("style");p&&(u.nonce=p);let h=null!=i?i:document.head;return h.appendChild(u),u.sheet&&u.sheet.insertRule('\n          [data-motion-pop-id="'.concat(n,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat("left"===r?"left: ".concat(l):"right: ".concat(d),"px !important;\n            top: ").concat(s,"px !important;\n          }\n        ")),()=>{h.contains(u)&&h.removeChild(u)}},[a]),(0,s.jsx)(u,{isPresent:a,childRef:c,sizeRef:o,children:l.cloneElement(t,{ref:c})})}let h=e=>{let{children:t,initial:a,isPresent:r,onExitComplete:n,custom:o,presenceAffectsLayout:d,mode:u,anchorX:h,root:g}=e,x=(0,i.M)(m),f=(0,l.useId)(),y=!0,v=(0,l.useMemo)(()=>(y=!1,{id:f,initial:a,isPresent:r,custom:o,onExitComplete:e=>{for(let t of(x.set(e,!0),x.values()))if(!t)return;n&&n()},register:e=>(x.set(e,!1),()=>x.delete(e))}),[r,x,n]);return d&&y&&(v={...v}),(0,l.useMemo)(()=>{x.forEach((e,t)=>x.set(t,!1))},[r]),l.useEffect(()=>{r||x.size||!n||n()},[r]),"popLayout"===u&&(t=(0,s.jsx)(p,{isPresent:r,anchorX:h,root:g,children:t})),(0,s.jsx)(c.t.Provider,{value:v,children:t})};function m(){return new Map}var g=a(32082);let x=e=>e.key||"";function f(e){let t=[];return l.Children.forEach(e,e=>{(0,l.isValidElement)(e)&&t.push(e)}),t}let y=e=>{let{children:t,custom:a,initial:c=!0,onExitComplete:o,presenceAffectsLayout:d=!0,mode:u="sync",propagate:p=!1,anchorX:m="left",root:y}=e,[v,b]=(0,g.xQ)(p),j=(0,l.useMemo)(()=>f(t),[t]),k=p&&!v?[]:j.map(x),N=(0,l.useRef)(!0),w=(0,l.useRef)(j),A=(0,i.M)(()=>new Map),[M,C]=(0,l.useState)(j),[P,E]=(0,l.useState)(j);(0,n.E)(()=>{N.current=!1,w.current=j;for(let e=0;e<P.length;e++){let t=x(P[e]);k.includes(t)?A.delete(t):!0!==A.get(t)&&A.set(t,!1)}},[P,k.length,k.join("-")]);let S=[];if(j!==M){let e=[...j];for(let t=0;t<P.length;t++){let a=P[t],s=x(a);k.includes(s)||(e.splice(t,0,a),S.push(a))}return"wait"===u&&S.length&&(e=S),E(f(e)),C(j),null}let{forceRender:I}=(0,l.useContext)(r.L);return(0,s.jsx)(s.Fragment,{children:P.map(e=>{let t=x(e),l=(!p||!!v)&&(j===P||k.includes(t));return(0,s.jsx)(h,{isPresent:l,initial:(!N.current||!!c)&&void 0,custom:a,presenceAffectsLayout:d,mode:u,root:y,onExitComplete:l?void 0:()=>{if(!A.has(t))return;A.set(t,!0);let e=!0;A.forEach(t=>{t||(e=!1)}),e&&(null==I||I(),E(w.current),p&&(null==b||b()),o&&o())},anchorX:m,children:e},t)})})}},62525:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(19946).A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},84616:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(19946).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])}},e=>{e.O(0,[9135,7210,1748,6061,9323,931,8441,5964,7358],()=>e(e.s=11123)),_N_E=e.O()}]);