(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2623],{77261:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(95155),a=r(12115),n=r(66766),l=r(43116),i=r(931);function o(){let[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(!0),[o,m]=(0,a.useState)(!1),[x,h]=(0,a.useState)("all"),[u,p]=(0,a.useState)(null),[g,b]=(0,a.useState)({name:"",description:"",color:"from-pink-400 to-pink-500",image:"",gender:"men",branch:""}),[f,v]=(0,a.useState)(null),[j,N]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e=(0,l.je)(e=>{t(e),n(!1)});return()=>e()},[]);let y=async e=>{if(e.preventDefault(),g.name&&g.branch){N(!0);try{let e=g.image;f&&(e=await (0,l.w4)(f,800,.8));let t={name:g.name,description:g.description,color:g.color,imageBase64:e,gender:g.gender,branch:g.branch,serviceCount:(null==u?void 0:u.serviceCount)||0,createdAt:(null==u?void 0:u.createdAt)||new Date,updatedAt:new Date};u?await (0,l.st)(u.id,t):await (0,l.Ah)(t),w()}catch(e){console.error("Error saving category:",e)}finally{N(!1)}}},w=()=>{b({name:"",description:"",color:"from-pink-400 to-pink-500",image:"",gender:"men",branch:""}),v(null),p(null),m(!1)},k=e=>{b({name:e.name,description:e.description||"",color:e.color||"from-pink-400 to-pink-500",image:e.image||"",gender:e.gender,branch:e.branch||""}),p(e),m(!0)},C=async e=>{if(window.confirm('Are you sure you want to delete "'.concat(e.name,'"?')))try{await (0,l.K7)(e.id)}catch(e){console.error("Error deleting category:",e)}},M=()=>{b({name:"",description:"",color:"from-pink-400 to-pink-500",image:"",gender:"men",branch:""}),p(null),m(!0)};return r?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-pink-50 via-white to-purple-50",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-pink-500 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600 font-medium",children:"Loading categories..."})]})}):(0,s.jsx)(i.A,{children:(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 via-white to-purple-50",children:(0,s.jsx)("div",{className:"p-2 sm:p-6",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,s.jsx)("div",{className:"mb-8 relative",children:(0,s.jsxs)("div",{className:"bg-gradient-to-r from-pink-500 via-purple-500 to-pink-600 rounded-3xl p-6 sm:p-8 shadow-2xl",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-pink-500/20 via-purple-500/20 to-pink-600/20 rounded-3xl backdrop-blur-sm"}),(0,s.jsx)("div",{className:"relative z-10",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-white mb-2 tracking-tight",children:"Service Categories"}),(0,s.jsx)("p",{className:"text-pink-100 text-sm sm:text-base font-medium",children:"Organize and manage your beauty services with style"}),(0,s.jsxs)("div",{className:"flex items-center gap-4 mt-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-pink-100",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-pink-200 rounded-full animate-pulse"}),(0,s.jsxs)("span",{className:"text-xs font-medium",children:[e.length," Categories"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-pink-100",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-purple-200 rounded-full animate-pulse"}),(0,s.jsxs)("span",{className:"text-xs font-medium",children:[e.reduce((e,t)=>e+(t.serviceCount||0),0)," Services"]})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("select",{value:x,onChange:e=>h(e.target.value),className:"appearance-none bg-white/20 backdrop-blur-md border border-white/30 rounded-xl px-4 py-2.5 text-white text-sm font-medium focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 cursor-pointer pr-10 min-w-[140px]",children:[(0,s.jsx)("option",{value:"all",className:"text-gray-800",children:"All Branches"}),(0,s.jsx)("option",{value:"Marina",className:"text-gray-800",children:"Marina"}),(0,s.jsx)("option",{value:"IBN Battuta Mall",className:"text-gray-800",children:"IBN Battuta Mall"}),(0,s.jsx)("option",{value:"AI Bustaan",className:"text-gray-800",children:"AI Bustaan"}),(0,s.jsx)("option",{value:"TECOM",className:"text-gray-800",children:"TECOM"}),(0,s.jsx)("option",{value:"AI Muraqqabat",className:"text-gray-800",children:"AI Muraqqabat"})]}),(0,s.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:(0,s.jsx)("svg",{className:"w-4 h-4 text-white/70",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),(0,s.jsxs)("button",{onClick:M,className:"group bg-white/20 backdrop-blur-md hover:bg-white/30 text-white px-6 py-2.5 rounded-xl text-sm font-semibold transition-all duration-300 border border-white/30 hover:border-white/50 hover:scale-105 hover:shadow-lg flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-5 h-5 rounded-full bg-white/30 flex items-center justify-center group-hover:rotate-90 transition-transform duration-300",children:(0,s.jsx)("span",{className:"text-xs",children:"+"})}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Add Category"}),(0,s.jsx)("span",{className:"sm:hidden",children:"Add"})]})]})]})})]})}),(0,s.jsxs)("section",{className:"mb-8",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg",children:(0,s.jsx)("span",{className:"text-white text-sm font-bold",children:"♂"})}),(0,s.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Men's Services"})]}),(0,s.jsx)("div",{className:"flex-1 h-px bg-gradient-to-r from-blue-200 to-transparent"}),(0,s.jsxs)("span",{className:"text-sm text-blue-600 font-medium bg-blue-50 px-3 py-1 rounded-full",children:[e.filter(e=>"men"===e.gender).filter(e=>"all"===x||e.branch===x).length," categories"]})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 sm:gap-6",children:e.filter(e=>"men"===e.gender).filter(e=>"all"===x||e.branch===x).map(e=>(0,s.jsx)(c,{category:e,onEdit:k,onDelete:C},e.id))})]}),(0,s.jsxs)("section",{className:"mb-8",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-pink-500 to-pink-600 rounded-xl flex items-center justify-center shadow-lg",children:(0,s.jsx)("span",{className:"text-white text-sm font-bold",children:"♀"})}),(0,s.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Women's Services"})]}),(0,s.jsx)("div",{className:"flex-1 h-px bg-gradient-to-r from-pink-200 to-transparent"}),(0,s.jsxs)("span",{className:"text-sm text-pink-600 font-medium bg-pink-50 px-3 py-1 rounded-full",children:[e.filter(e=>"women"===e.gender).filter(e=>"all"===x||e.branch===x).length," categories"]})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 sm:gap-6",children:e.filter(e=>"women"===e.gender).filter(e=>"all"===x||e.branch===x).map(e=>(0,s.jsx)(c,{category:e,onEdit:k,onDelete:C},e.id))})]}),0===e.length&&(0,s.jsxs)("div",{className:"text-center py-4 sm:py-6",children:[(0,s.jsx)("div",{className:"w-8 sm:w-10 h-8 sm:h-10 bg-gradient-to-br from-pink-200 to-pink-300 rounded-xl flex items-center justify-center mx-auto mb-2",children:(0,s.jsx)("div",{className:"text-xs sm:text-sm text-pink-600",children:"\uD83D\uDCC2"})}),(0,s.jsx)("h3",{className:"text-xs font-semibold text-pink-700 mb-1",children:"No categories yet"}),(0,s.jsx)("p",{className:"text-xs text-pink-500 mb-3",children:"Create your first category"}),(0,s.jsx)("button",{onClick:M,className:"bg-pink-500/10 hover:bg-pink-500/20 text-pink-600 px-3 py-1.5 rounded-lg text-xs font-medium border border-pink-200/50",children:"Create Category"})]}),o&&(0,s.jsx)(d,{formData:g,setFormData:b,handleImageUpload:e=>{var t;let r=null==(t=e.target.files)?void 0:t[0];if(r){v(r);let e=new FileReader;e.onload=()=>b({...g,image:e.result}),e.readAsDataURL(r)}},handleSubmit:y,resetForm:w,uploading:j,editingCategory:u})]})})})})}function d(e){let{formData:t,setFormData:r,handleImageUpload:a,handleSubmit:l,resetForm:i,uploading:o,editingCategory:d}=e;return(0,s.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center p-4 z-50 animate-in fade-in duration-300",children:(0,s.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md transform animate-in slide-in-from-bottom-4 duration-500",children:[(0,s.jsx)("div",{className:"bg-gradient-to-r from-pink-500 via-purple-500 to-pink-600 rounded-t-3xl p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-white mb-1",children:d?"Edit Category":"Create New Category"}),(0,s.jsx)("p",{className:"text-pink-100 text-sm",children:d?"Update category information":"Add a new service category"})]}),(0,s.jsx)("button",{onClick:i,className:"bg-white/20 hover:bg-white/30 rounded-full p-2 text-white transition-all duration-200 hover:scale-110",children:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,s.jsx)("div",{className:"p-6",children:(0,s.jsxs)("form",{onSubmit:l,className:"space-y-5",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Category Image"}),(0,s.jsx)("div",{className:"relative",children:t.image?(0,s.jsxs)("div",{className:"relative w-full h-32 rounded-xl overflow-hidden border-2 border-gray-200 group",children:[(0,s.jsx)(n.default,{src:t.image,alt:"Category preview",fill:!0,className:"object-cover"}),(0,s.jsx)("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex items-center justify-center",children:(0,s.jsx)("button",{type:"button",onClick:()=>r({...t,image:""}),className:"bg-white/90 hover:bg-white rounded-full p-2 text-red-500 hover:text-red-600 transition-all duration-200 hover:scale-110",children:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})})]}):(0,s.jsxs)("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-gray-300 rounded-xl cursor-pointer bg-gray-50 hover:bg-gray-100 transition-all duration-200 group",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-pink-500 to-purple-500 rounded-xl flex items-center justify-center mb-3 group-hover:scale-110 transition-transform duration-200",children:(0,s.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Upload Category Image"}),(0,s.jsx)("p",{className:"text-xs text-gray-400",children:"PNG, JPG up to 10MB"})]}),(0,s.jsx)("input",{type:"file",onChange:a,accept:"image/*",className:"hidden"})]})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Category Name"}),(0,s.jsx)("input",{type:"text",value:t.name,onChange:e=>r({...t,name:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all duration-200 text-sm",placeholder:"Enter category name",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description"}),(0,s.jsx)("textarea",{value:t.description,onChange:e=>r({...t,description:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all duration-200 resize-none text-sm",rows:3,placeholder:"Describe this category"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Branch"}),(0,s.jsxs)("select",{value:t.branch,onChange:e=>r({...t,branch:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all duration-200 text-sm bg-white cursor-pointer",required:!0,children:[(0,s.jsx)("option",{value:"",children:"Select Branch"}),(0,s.jsx)("option",{value:"Marina",children:"Marina"}),(0,s.jsx)("option",{value:"IBN Battuta Mall",children:"IBN Battuta Mall"}),(0,s.jsx)("option",{value:"AI Bustaan",children:"AI Bustaan"}),(0,s.jsx)("option",{value:"TECOM",children:"TECOM"}),(0,s.jsx)("option",{value:"AI Muraqqabat",children:"AI Muraqqabat"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Gender"}),(0,s.jsxs)("select",{value:t.gender,onChange:e=>r({...t,gender:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all duration-200 text-sm bg-white cursor-pointer",children:[(0,s.jsx)("option",{value:"men",children:"♂ Men"}),(0,s.jsx)("option",{value:"women",children:"♀ Women"})]})]})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-100",children:[(0,s.jsx)("button",{type:"button",onClick:i,disabled:o,className:"px-6 py-3 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-xl font-medium transition-all duration-200 disabled:opacity-50 hover:scale-105",children:"Cancel"}),(0,s.jsxs)("button",{type:"submit",disabled:o,className:"px-6 py-3 bg-gradient-to-r from-pink-500 to-purple-500 hover:from-pink-600 hover:to-purple-600 text-white rounded-xl font-semibold transition-all duration-200 disabled:opacity-50 flex items-center space-x-2 hover:scale-105 shadow-lg hover:shadow-xl",children:[o&&(0,s.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),(0,s.jsx)("span",{children:d?"Update Category":"Create Category"})]})]})]})})]})})}function c(e){let{category:t,onEdit:r,onDelete:a}=e;return(0,s.jsxs)("div",{className:"group bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden border border-gray-100 hover:border-pink-200 hover:-translate-y-1",children:[(0,s.jsxs)("div",{className:"relative h-32 sm:h-36 overflow-hidden bg-gradient-to-br from-pink-50 to-purple-50",children:[t.imageBase64?(0,s.jsx)(n.default,{src:t.imageBase64,alt:t.name,fill:!0,className:"object-cover group-hover:scale-110 transition-transform duration-500"}):(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,s.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-pink-400 to-purple-500 rounded-xl flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-white text-lg font-bold",children:t.name.charAt(0).toUpperCase()})})}),(0,s.jsxs)("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-all duration-300 flex items-center justify-center gap-2",children:[(0,s.jsx)("button",{onClick:()=>r(t),className:"bg-white/90 hover:bg-white rounded-full p-2 text-blue-600 hover:text-blue-700 transition-all duration-200 hover:scale-110 shadow-lg",children:(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,s.jsx)("button",{onClick:()=>a(t),className:"bg-white/90 hover:bg-white rounded-full p-2 text-red-500 hover:text-red-600 transition-all duration-200 hover:scale-110 shadow-lg",children:(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsx)("h3",{className:"font-bold text-gray-900 text-sm sm:text-base mb-2 line-clamp-1 group-hover:text-pink-600 transition-colors duration-200",children:t.name}),t.description&&(0,s.jsx)("p",{className:"text-gray-600 text-xs sm:text-sm mb-3 line-clamp-2 leading-relaxed",children:t.description}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-1.5 mb-3",children:[(0,s.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium border ".concat((e=>{switch(e){case"men":return"bg-blue-100 text-blue-800 border-blue-200";case"women":return"bg-pink-100 text-pink-800 border-pink-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}})(t.gender)),children:"men"===t.gender?"♂ Men":"♀ Women"}),t.branch&&(0,s.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium border ".concat((e=>{let t=["bg-purple-100 text-purple-800 border-purple-200","bg-indigo-100 text-indigo-800 border-indigo-200","bg-teal-100 text-teal-800 border-teal-200","bg-orange-100 text-orange-800 border-orange-200","bg-emerald-100 text-emerald-800 border-emerald-200"],r=e?e.length%t.length:0;return t[r]})(t.branch)),children:t.branch})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)("div",{className:"w-1.5 h-1.5 bg-pink-400 rounded-full"}),t.serviceCount||0," services"]}),(0,s.jsx)("span",{className:"text-gray-400",children:t.createdAt?new Date(1e3*t.createdAt.seconds).toLocaleDateString():"Recently"})]})]})]})}},94246:(e,t,r)=>{Promise.resolve().then(r.bind(r,77261))}},e=>{e.O(0,[9135,7210,1748,4212,9323,931,3116,8441,5964,7358],()=>e(e.s=94246)),_N_E=e.O()}]);